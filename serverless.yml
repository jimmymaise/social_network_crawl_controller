service: on_demand_collection_services
provider:
  name: aws
  stage: dev
  runtime: python3.8
  region: us-west-2
  memorySize: 500
  environment:
    LAMBDA: "LAMBDA"
  deploymentBucket:
    name: hiip-asia-media # Deployment bucket name. Default is generated by the framework
    maxPreviousDeploymentArtifacts: 10 # On every deployment the framework prunes the bucket to remove artifacts older than this limit. The default is 5

package:
  exclude:
    - ./docker/**
    - ./.node_modules
    - ./unit_test
  include:
    - ./**

plugins:
  - serverless-pseudo-parameters
  - serverless-python-requirements

custom:
  pythonRequirements:
    usePipenv: false
    useDownloadCache: false
    fileName: requirements.txt
    useStaticCache: false
    dockerizePip: non-linux
    zip: true
    noDeploy:
      - pytest

functions:
  - on_demand_collection_services:
      name:
      handler: main.lambda_handler
      description: on_demand_collection_services
      runtime: python3.8
      memorySize: 128
      timeout: 120